{"ast":null,"code":"var _jsxFileName = \"/Users/plabs/Documents/putri/transaksi_ticket/transaksi-themovies/src/components/Hasil.js\";\nimport React, { Component } from \"react\";\nimport { Badge, Card, Col, ListGroup, Row } from \"react-bootstrap\";\nimport { numberWithCommas } from \"../utils/utils\";\nimport ModalKeranjang from \"./ModalKeranjang\";\nimport TotalBayar from \"./TotalBayar\";\nimport { API_URL } from \"../utils/constants\";\nimport axios from \"axios\";\nimport swal from \"sweetalert\";\nexport default class Hasil extends Component {\n  constructor(props) {\n    super(props);\n    this.handleShow = menuKeranjang => {\n      this.setState({\n        showModal: true,\n        keranjangDetail: menuKeranjang,\n        jumlah: menuKeranjang.jumlah,\n        keterangan: menuKeranjang.keterangan,\n        totalHarga: menuKeranjang.total_harga\n      });\n    };\n    this.handleClose = () => {\n      this.setState({\n        showModal: false\n      });\n    };\n    this.tambah = () => {\n      this.setState({\n        jumlah: this.state.jumlah + 1,\n        totalHarga: this.state.keranjangDetail.product.harga * (this.state.jumlah + 1)\n      });\n    };\n    this.kurang = () => {\n      if (this.state.jumlah !== 1) {\n        this.setState({\n          jumlah: this.state.jumlah - 1,\n          totalHarga: this.state.keranjangDetail.product.harga * (this.state.jumlah - 1)\n        });\n      }\n    };\n    this.changeHandler = event => {\n      this.setState({\n        keterangan: event.target.value\n      });\n    };\n    this.handleSubmit = event => {\n      event.preventDefault();\n      this.handleClose();\n      const data = {\n        jumlah: this.state.jumlah,\n        total_harga: this.state.totalHarga,\n        product: this.state.keranjangDetail.product,\n        keterangan: this.state.keterangan\n      };\n      axios.put(API_URL + \"keranjangs/\" + this.state.keranjangDetail.id, data).then(res => {\n        swal({\n          title: \"Update Pesanan!\",\n          text: \"Sukses Update Pesanan \" + data.product.nama,\n          icon: \"success\",\n          button: false,\n          timer: 1500\n        });\n      }).catch(error => {\n        console.log(\"Error yaa \", error);\n      });\n    };\n    this.hapusPesanan = id => {\n      this.handleClose();\n      axios.delete(API_URL + \"keranjangs/\" + id).then(res => {\n        swal({\n          title: \"Hapus Pesanan!\",\n          text: \"Sukses Hapus Pesanan \" + this.state.keranjangDetail.product.nama,\n          icon: \"error\",\n          button: false,\n          timer: 1500\n        });\n      }).catch(error => {\n        console.log(\"Error yaa \", error);\n      });\n    };\n    this.state = {\n      showModal: false,\n      keranjangDetail: false,\n      jumlah: 0,\n      keterangan: \"\",\n      totalHarga: 0\n    };\n  }\n  render() {\n    const {\n      keranjangs\n    } = this.props;\n    return /*#__PURE__*/React.createElement(Col, {\n      md: 3,\n      className: \"mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 11\n      }\n    }, \"Transaksi Ticket Film\")), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }\n    }), keranjangs.length !== 0 && /*#__PURE__*/React.createElement(Card, {\n      className: \"overflow-auto hasil\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(ListGroup, {\n      variant: \"flush\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 13\n      }\n    }, keranjangs.map(menuKeranjang => /*#__PURE__*/React.createElement(ListGroup.Item, {\n      key: menuKeranjang.id,\n      onClick: () => this.handleShow(menuKeranjang),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      xs: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(Badge, {\n      pill: true,\n      variant: \"success\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 25\n      }\n    }, menuKeranjang.jumlah))), /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 23\n      }\n    }, menuKeranjang.product.nama), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 23\n      }\n    }, \"Rp. \", numberWithCommas(menuKeranjang.product.harga))), /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      className: \"float-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 23\n      }\n    }, \"Rp. \", numberWithCommas(menuKeranjang.total_harga)))))), /*#__PURE__*/React.createElement(ModalKeranjang, Object.assign({\n      handleClose: this.handleClose\n    }, this.state, {\n      tambah: this.tambah,\n      kurang: this.kurang,\n      changeHandler: this.changeHandler,\n      handleSubmit: this.handleSubmit,\n      hapusPesanan: this.hapusPesanan,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 15\n      }\n    })))), /*#__PURE__*/React.createElement(TotalBayar, Object.assign({\n      keranjangs: keranjangs\n    }, this.props, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }\n    })));\n  }\n}","map":{"version":3,"names":["React","Component","Badge","Card","Col","ListGroup","Row","numberWithCommas","ModalKeranjang","TotalBayar","API_URL","axios","swal","Hasil","constructor","props","handleShow","menuKeranjang","setState","showModal","keranjangDetail","jumlah","keterangan","totalHarga","total_harga","handleClose","tambah","state","product","harga","kurang","changeHandler","event","target","value","handleSubmit","preventDefault","data","put","id","then","res","title","text","nama","icon","button","timer","catch","error","console","log","hapusPesanan","delete","render","keranjangs","length","map"],"sources":["/Users/plabs/Documents/putri/transaksi_ticket/transaksi-themovies/src/components/Hasil.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport { Badge, Card, Col, ListGroup, Row } from \"react-bootstrap\";\nimport { numberWithCommas } from \"../utils/utils\";\nimport ModalKeranjang from \"./ModalKeranjang\";\nimport TotalBayar from \"./TotalBayar\";\nimport { API_URL } from \"../utils/constants\";\nimport axios from \"axios\";\nimport swal from \"sweetalert\";\n\nexport default class Hasil extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      showModal: false,\n      keranjangDetail: false,\n      jumlah: 0,\n      keterangan: \"\",\n      totalHarga: 0,\n    };\n  }\n\n  handleShow = (menuKeranjang) => {\n    this.setState({\n      showModal: true,\n      keranjangDetail: menuKeranjang,\n      jumlah: menuKeranjang.jumlah,\n      keterangan: menuKeranjang.keterangan,\n      totalHarga: menuKeranjang.total_harga,\n    });\n  };\n\n  handleClose = () => {\n    this.setState({\n      showModal: false,\n    });\n  };\n\n  tambah = () => {\n    this.setState({\n      jumlah: this.state.jumlah + 1,\n      totalHarga:\n        this.state.keranjangDetail.product.harga * (this.state.jumlah + 1),\n    });\n  };\n\n  kurang = () => {\n    if (this.state.jumlah !== 1) {\n      this.setState({\n        jumlah: this.state.jumlah - 1,\n        totalHarga:\n          this.state.keranjangDetail.product.harga * (this.state.jumlah - 1),\n      });\n    }\n  };\n\n  changeHandler = (event) => {\n    this.setState({\n      keterangan: event.target.value,\n    });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n\n    this.handleClose();\n\n    const data = {\n      jumlah: this.state.jumlah,\n      total_harga: this.state.totalHarga,\n      product: this.state.keranjangDetail.product,\n      keterangan: this.state.keterangan,\n    };\n\n    axios\n      .put(API_URL + \"keranjangs/\" + this.state.keranjangDetail.id, data)\n      .then((res) => {\n        swal({\n          title: \"Update Pesanan!\",\n          text: \"Sukses Update Pesanan \" + data.product.nama,\n          icon: \"success\",\n          button: false,\n          timer: 1500,\n        });\n      })\n      .catch((error) => {\n        console.log(\"Error yaa \", error);\n      });\n  };\n\n  hapusPesanan = (id) => {\n    this.handleClose();\n\n    axios\n      .delete(API_URL + \"keranjangs/\" + id)\n      .then((res) => {\n        swal({\n          title: \"Hapus Pesanan!\",\n          text:\n            \"Sukses Hapus Pesanan \" + this.state.keranjangDetail.product.nama,\n          icon: \"error\",\n          button: false,\n          timer: 1500,\n        });\n      })\n      .catch((error) => {\n        console.log(\"Error yaa \", error);\n      });\n  };\n\n  render() {\n    const { keranjangs } = this.props;\n    return (\n      <Col md={3} className=\"mt-3\">\n        <h4>\n          <strong>Transaksi Ticket Film</strong>\n        </h4>\n        <hr />\n        {keranjangs.length !== 0 && (\n          <Card className=\"overflow-auto hasil\">\n            <ListGroup variant=\"flush\">\n              {keranjangs.map((menuKeranjang) => (\n                <ListGroup.Item\n                  key={menuKeranjang.id}\n                  onClick={() => this.handleShow(menuKeranjang)}\n                >\n                  <Row>\n                    <Col xs={2}>\n                      <h4>\n                        <Badge pill variant=\"success\">\n                          {menuKeranjang.jumlah}\n                        </Badge>\n                      </h4>\n                    </Col>\n                    <Col>\n                      <h5>{menuKeranjang.product.nama}</h5>\n                      <p>Rp. {numberWithCommas(menuKeranjang.product.harga)}</p>\n                    </Col>\n                    <Col>\n                      <strong className=\"float-right\">\n                        Rp. {numberWithCommas(menuKeranjang.total_harga)}\n                      </strong>\n                    </Col>\n                  </Row>\n                </ListGroup.Item>\n              ))}\n\n              <ModalKeranjang\n                handleClose={this.handleClose}\n                {...this.state}\n                tambah={this.tambah}\n                kurang={this.kurang}\n                changeHandler={this.changeHandler}\n                handleSubmit={this.handleSubmit}\n                hapusPesanan={this.hapusPesanan}\n              />\n            </ListGroup>\n          </Card>\n        )}\n\n        <TotalBayar keranjangs={keranjangs} {...this.props} />\n      </Col>\n    );\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}